publishers:
  -   name: Gets empty account list
      type: http
      url: http://localhost:7000/accounts
      method: GET
      onResponseReceived:
        assertions:
          -   expect: statusCode
              toBeEqualTo: 200
          -   expect: body
              toBeEqualTo: `[]`

  -   name: Creates a user to be the giver in the transfer
      type: http
      url: http://localhost:7000/accounts
      method: POST
      headers:
        content-type: application/json
      payload:
        id: 1
        balance: 100.00
      onResponseReceived:
        assertions:
          -   expect: statusCode
              toBeEqualTo: 200

  -   name: Create a user to be the beneficiary in the transfer
      type: http
      url: http://localhost:7000/accounts
      method: POST
      headers:
        content-type: application/json
      payload:
        id: 2
        balance: 15.50
      onResponseReceived:
        assertions:
          -   expect: statusCode
              toBeEqualTo: 200

  -   name: Transfers the money from giver to the beneficiary
      type: http
      url: http://localhost:7000/accounts/1/transfer
      method: POST
      headers:
        content-type: application/json
      payload:
        beneficiaryId: 2
        value: 15.50
      onResponseReceived:
        assertions:
          -   expect: statusCode
              toBeEqualTo: 200